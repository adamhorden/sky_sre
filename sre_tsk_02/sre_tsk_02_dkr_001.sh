#!/usr/bin/env bash

# Copyright (c) 2023 - 2023 Adam Horden <adam.horden@horden.engineering>

# ----------------------------------------------------------------------------------------
#
# ----------------------------------------------------------------------------------------

set \
  -o \
    "errexit" \
  -o \
    "xtrace" \

# ----------------------------------------------------------------------------------------
#
# ----------------------------------------------------------------------------------------

cd \
  /etc/sky_sre/sre_tsk_02

# ----------------------------------------------------------------------------------------
#
# ----------------------------------------------------------------------------------------

export SRE_TSK_MON_USR_GID="$(\
  printf \
    "%s" \
    "$( \
      /usr/bin/id \
      -g \
    )" \
)"

# ----------------------------------------------------------------------------------------
#
# ----------------------------------------------------------------------------------------

export SRE_TSK_MON_USR_UID="$(\
  printf \
    "%s" \
    "$( \
      /usr/bin/id \
      -u \
    )" \
)"

# All services are considered public.

# ----------------------------------------------------------------------------------------
#
# ----------------------------------------------------------------------------------------

export SRE_TSK_MON_USR_NM="$(\
  printf \
    "%s" \
    "sky" \
)"

# ----------------------------------------------------------------------------------------
#
# ----------------------------------------------------------------------------------------

export SRE_TSK_MON_USR_PW="$(\
  printf \
    "%s" \
    "sky" \
)"

# ----------------------------------------------------------------------------------------
#
# ----------------------------------------------------------------------------------------

docker \
  compose \
    --file \
      "./sre_tsk_02_dkr_001.yml" \
    up \
     --detach
